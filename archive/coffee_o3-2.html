<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Jesus Coffee - Brewing Divine Opportunities</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        coffee: {
                            100: '#F3E8D6',
                            200: '#E6D0B5',
                            300: '#C8A780',
                            400: '#A67C52',
                            500: '#8D6E63',
                            600: '#6D4C41',
                            700: '#5D4037',
                            800: '#4E342E',
                            900: '#3E2723',
                        },
                    },
                    fontFamily: {
                        serif: ['Playfair Display', 'serif'],
                        sans: ['Poppins', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .float { animation: float 6s ease-in-out infinite; }

        .coffee-bean {
            position: absolute;
            width: 20px;
            height: 30px;
            background-color: #6D4C41;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            opacity: 0.7;
            animation: fallAnimation linear infinite;
            animation-delay: calc(var(--delay) * -1s); /* Negative delay to start sooner */
        }
        @keyframes fallAnimation {
            0% { transform: translateY(-5vh) rotate(0deg); }
            100% { transform: translateY(105vh) rotate(360deg); }
        }
        .dark .coffee-bean { background-color: #A67C52; }

        #falling-beans-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .section-transition {
            transition: all 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        .section-transition:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .sticky-nav {
            position: sticky;
            top: 64px;
            z-index: 20;
            backdrop-filter: blur(5px);
            background-color: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }
        .dark .sticky-nav {
            background-color: rgba(30, 41, 59, 0.8);
        }
        .sticky-nav.scrolled {
            padding: 0.5rem 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .section-padding {
            scroll-margin-top: 128px;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        .shimmer-text {
            background-size: 200% auto;
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            animation: shimmer 5s linear infinite;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }
        .light .shimmer-text {
            background-image: linear-gradient(90deg, #FFF8E1 0%, #E6D0B5 25%, #C8A780 50%, #E6D0B5 75%, #FFF8E1 100%);
        }
        .dark .shimmer-text {
            background-image: linear-gradient(90deg, #A67C52 0%, #C8A780 25%, #E6D0B5 50%, #C8A780 75%, #A67C52 100%);
        }

        .main-navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            height: 80px;
        }

        main .page-title-section {
            margin-top: 10vh !important;
            text-align: center !important;
            padding: 3rem 2rem !important;
            background: linear-gradient(135deg, rgba(165, 42, 42, 0.8), rgba(210, 180, 140, 0.8)) !important;
            border-radius: 1.5rem !important;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2) !important;
            position: relative !important;
            overflow: hidden !important;
            z-index: 1 !important;
        }

        .page-title-section::before {
            content: '☕' !important;
            position: absolute !important;
            top: -20px !important;
            right: -20px !important;
            font-size: 10rem !important;
            opacity: 0.1 !important;
            transform: rotate(-15deg) !important;
            z-index: -1 !important;
        }

        .page-title {
            font-family: 'Playfair Display', serif !important;
            font-size: 5rem !important;
            font-weight: 700 !important;
            color: #FFF8E1 !important;
            margin-bottom: 1rem !important;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2) !important;
            position: relative !important;
            z-index: 2 !important;
        }

        .page-subtitle {
            font-family: 'Poppins', sans-serif !important;
            font-size: 1.75rem !important;
            color: #FFF8E1 !important;
            letter-spacing: 0.1em !important;
            text-transform: uppercase !important;
            opacity: 0.9 !important;
            position: relative !important;
            z-index: 2 !important;
        }

        .page-title-section {
            width: 100% !important;
            max-width: 900px !important;
            margin-left: auto !important;
            margin-right: auto !important;
        }

        @media (max-width: 768px) {
            .page-title {
                font-size: 3.5rem !important;
            }
            .page-subtitle {
                font-size: 1.25rem !important;
            }
        }

        /* Shimmer effect for the title */
        .shimmer-text {
            background-size: 200% auto !important;
            color: transparent !important;
            -webkit-background-clip: text !important;
            background-clip: text !important;
            animation: shimmer 5s linear infinite !important;
        }

        .light .shimmer-text {
            background-image: linear-gradient(90deg, #FFF8E1 0%, #E6D0B5 25%, #C8A780 50%, #E6D0B5 75%, #FFF8E1 100%) !important;
        }

        /* Adjust main content to account for the increased header spacing */
        main {
            padding-top: 2rem !important;
        }

        /* Ensure the secondary nav doesn't overlap with the header */
        .secondary-nav {
            margin-top: 2rem;
        }

        .secondary-nav {
            position: sticky;
            top: 80px; /* Adjust this value to match your main navbar height */
            z-index: 20;
            padding-left: 2rem;
            padding-right: 2rem;
            background-color: rgba(165, 42, 42, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 9999px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .secondary-nav ul {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
        }

        .secondary-nav li {
            display: flex;
            align-items: center;
        }

        .secondary-nav a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 9999px;
            transition: background-color 0.3s ease;
        }

        .secondary-nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .secondary-nav i {
            font-size: 1.25rem;
        }

        @media (max-width: 768px) {
            .secondary-nav {
                padding-left: 1rem;
                padding-right: 1rem;
            }

            .secondary-nav a {
                padding: 0.5rem 0.75rem;
                font-size: 0.875rem;
            }

            .secondary-nav i {
                font-size: 1rem;
            }
        }

        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Enhanced section transitions */
        .section-transition {
            transition: all 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        .section-transition:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        /* Improved sticky nav */
        .sticky-nav {
            transition: all 0.3s ease;
        }
        .sticky-nav.scrolled {
            padding: 0.5rem 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Enhanced form inputs */
        .form-input {
            transition: all 0.3s ease;
        }
        .form-input:focus {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Animated coffee cup icon */
        @keyframes steam {
            0% { transform: translateY(0) scale(1); opacity: 0.8; }
            50% { transform: translateY(-10px) scale(1.1); opacity: 0.5; }
            100% { transform: translateY(-20px) scale(1.2); opacity: 0; }
        }
        .coffee-icon::before {
            content: '☕';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 24px;
            opacity: 0;
            animation: steam 2s infinite;
        }

        /* Parallax effect for background */
        .parallax-bg {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        /* Image enhancements */
        .float {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .image-container {
            position: relative;
            overflow: hidden;
            border-radius: 0.5rem;
        }

        .image-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom right, rgba(166, 124, 82, 0.2), rgba(109, 76, 65, 0.2));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .image-container:hover::after {
            opacity: 1;
        }

        .image-container img {
            transition: transform 0.3s ease;
        }

        .image-container:hover img {
            transform: scale(1.05);
        }

        /* Enhanced background with subtle coffee bean pattern */
        .coffee-bg {
            background-image:
                linear-gradient(rgba(62, 39, 35, 0.8), rgba(62, 39, 35, 0.8)),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><path d="M30 5c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15zm0 25c-5.5 0-10-4.5-10-10s4.5-10 10-10 10 4.5 10 10-4.5 10-10 10z" fill="%23A67C52" fill-opacity="0.1"/></svg>'),
                url('/static/coffee-bg.jpg');
            background-attachment: fixed;
            background-position: center;
            background-size: auto, auto, cover;
        }

        /* Improved main title with coffee-colored text gradient */
        .page-title {
            background: linear-gradient(45deg, #6D4C41, #A67C52, #C8A780);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        /* Animated coffee cup icon for section titles */
        .section-title::before {
            content: '☕';
            display: inline-block;
            margin-right: 10px;
            animation: steamAnimation 2s infinite;
        }
        @keyframes steamAnimation {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-5px) rotate(5deg); }
        }

        /* Enhanced form styling */
        .form-input {
            transition: all 0.3s ease;
            border-bottom: 2px solid #A67C52;
        }
        .form-input:focus {
            border-bottom-color: #6D4C41;
            box-shadow: 0 4px 6px rgba(166, 124, 82, 0.1);
        }
        .input-icon {
            transition: all 0.3s ease;
        }
        .form-input:focus + .input-icon {
            color: #6D4C41;
            transform: translateY(-2px) scale(1.1);
        }

        /* Animated submit button */
        .submit-btn {
            position: relative;
            overflow: hidden;
        }
        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                120deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
            );
            transition: all 0.6s;
        }
        .submit-btn:hover::before {
            left: 100%;
        }

        /* Enhanced section transitions */
        .section-transition {
            transition: all 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        .section-transition:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        /* Improved image hover effect */
        .image-hover {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
        }
        .image-hover img {
            transition: transform 0.5s ease, filter 0.5s ease;
        }
        .image-hover:hover img {
            transform: scale(1.05);
            filter: brightness(1.1) contrast(1.1);
        }
        .image-hover::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle, transparent 50%, rgba(166, 124, 82, 0.3) 150%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .image-hover:hover::after {
            opacity: 1;
        }

        /* Smooth scrolling for anchor links */
        html {
            scroll-behavior: smooth;
        }

        /* Custom selection color */
        ::selection {
            background-color: #A67C52;
            color: white;
        }

        /* Animated progress bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to right, #6D4C41, #A67C52, #C8A780);
            transform-origin: 0 50%;
            transform: scaleX(0);
            transition: transform 0.2s ease;
            z-index: 1000;
        }

        /* Enhance accessibility */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Animated section reveal */
        .reveal {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Pulsating effect for CTA buttons */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(166, 124, 82, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(166, 124, 82, 0); }
            100% { box-shadow: 0 0 0 0 rgba(166, 124, 82, 0); }
        }
        .cta-button {
            animation: pulse 2s infinite;
        }

        /* Enhanced scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #A67C52;
            border-radius: 6px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6D4C41;
        }

        /* Adjust section padding for smooth scrolling */
        .section-padding {
            scroll-margin-top: 128px; /* Adjust based on navbar + secondary nav height */
        }

        /* Adjust main content to account for sticky secondary nav */
        .main-content {
            padding-top: 2rem; /* Add some space below the secondary nav */
        }

        /* Light mode specific styles */
        .light {
            --bg-primary: #FFF8E1;
            --bg-secondary: #E6D0B5;
            --text-primary: #5D4037;
            --text-secondary: #8D6E63;
            --accent: #A67C52;
        }

        body.light {
            background-color: var(--bg-primary);
            color: var(--text-primary);
        }

        .light .secondary-nav {
            background-color: var(--bg-secondary);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .light .secondary-nav a {
            color: var(--text-primary);
        }

        .light .secondary-nav a:hover {
            color: var(--accent);
        }

        .light .page-title {
            color: var(--text-primary);
        }

        .light .page-subtitle {
            color: var(--text-secondary);
        }

        .light .section-title {
            color: var(--accent);
        }

        .light .form-input {
            background-color: #FFFFFF;
            border: 1px solid var(--bg-secondary);
            color: var(--text-primary);
        }

        .light .form-input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 2px rgba(166, 124, 82, 0.2);
        }

        .light .submit-btn {
            background-color: var(--accent);
            color: #FFFFFF;
        }

        .light .submit-btn:hover {
            background-color: #8D6E63;
        }

        /* Enhanced scrollbar for light mode */
        .light ::-webkit-scrollbar {
            width: 12px;
        }

        .light ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        .light ::-webkit-scrollbar-thumb {
            background-color: var(--accent);
            border-radius: 20px;
            border: 3px solid var(--bg-secondary);
        }

        .light ::-webkit-scrollbar-thumb:hover {
            background-color: var(--text-secondary);
        }

        /* Light mode header styles */
        .light .page-title-section {
            background-color: #D2B48C; /* Light coffee/tan color */
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .light .page-title {
            font-family: 'Playfair Display', serif;
            font-size: 4rem;
            color: #5D4037; /* Dark brown */
            margin-bottom: 0.5rem;
        }

        .light .page-subtitle {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            color: #8D6E63; /* Medium brown */
        }

        /* Ensure the header takes full width within its container */
        .light .page-title-section {
            width: 100% !important;
            max-width: 800px !important; /* Adjust as needed */
            margin-left: auto !important;
            margin-right: auto !important;
        }

        /* Add some space below the header */
        .light .page-title-section + * {
            margin-top: 2rem;
        }

        /* Enhanced Animated coffee cup icon */
        .coffee-icon {
            position: relative;
            display: inline-block;
            font-size: 24px;
            margin-right: 10px;
        }

        .coffee-icon::before {
            content: '☕';
        }

        .coffee-icon::after {
            content: '~';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 16px;
            opacity: 0;
            animation: steam 2s infinite;
        }

        @keyframes steam {
            0% {
                top: -10px;
                opacity: 0;
            }
            50% {
                top: -20px;
                opacity: 1;
            }
            100% {
                top: -30px;
                opacity: 0;
            }
        }

        /* Apply the coffee icon to section titles */
        .section-title {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .section-title::before {
            content: '';
            display: inline-block;
            width: 30px;
            height: 30px;
            background: url('path/to/coffee-icon.svg') no-repeat center center;
            background-size: contain;
            margin-right: 10px;
            animation: tilt 3s ease-in-out infinite;
        }

        @keyframes tilt {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(10deg); }
        }

        /* Refined waitlist header styles */
        .waitlist-header {
            background: linear-gradient(135deg, #6D4C41, #A67C52);
            padding: 3rem 1rem;
            text-align: center;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .waitlist-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: #FFF8E1;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .waitlist-subtitle {
            font-family: 'Poppins', sans-serif;
            font-size: 1.25rem;
            color: #E6D0B5;
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
        }

        .waitlist-coffee-icon {
            position: absolute;
            font-size: 8rem;
            color: rgba(255, 255, 255, 0.1);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .waitlist-count {
            font-size: 1.5rem;
            font-weight: bold;
            color: #FFF8E1;
            margin-top: 1rem;
            position: relative;
            z-index: 1;
        }

        .form-input {
            transition: all 0.3s ease;
        }

        .form-input:focus {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .input-icon {
            transition: all 0.3s ease;
        }

        .form-input:focus + .input-icon {
            color: #6D4C41;
        }

        .submit-btn {
            position: relative;
            overflow: hidden;
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                120deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
            );
            transition: all 0.6s;
        }

        .submit-btn:hover::before {
            left: 100%;
        }
    </style>
</head>
<body class="font-sans bg-coffee-100 dark:bg-coffee-900 text-coffee-800 dark:text-coffee-100 transition-colors duration-200 parallax-bg coffee-bg">
    <div class="progress-bar" id="progressBar"></div>
    <div id="falling-beans-container"></div>
    <div id="navbar-placeholder"></div>

    <main class="max-w-4xl mx-auto px-4 py-8 space-y-16">
        <div class="page-title-section">
            <h1 class="page-title shimmer-text">Coffee Jesus Coffee</h1>
            <p class="page-subtitle">Brewing Divine Opportunities</p>
        </div>

        <!-- Replace the existing waitlist section with this enhanced version -->
        <section id="waitlist" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition">
            <div class="waitlist-header">
                <span class="waitlist-coffee-icon">☕</span>
                <h2 class="waitlist-title">Join Our Exclusive Waitlist</h2>
                <p class="waitlist-subtitle">Be the first to experience our divine brew and get exclusive offers!</p>
                <p class="waitlist-count">
                    <span id="waitlist-count">0</span> coffee enthusiasts have already joined!
                </p>
            </div>
            <form id="coffee-waitlist-form" class="space-y-6 max-w-md mx-auto">
                <div class="relative">
                    <label for="coffee-waitlist-name" class="text-sm font-medium text-coffee-700 dark:text-coffee-300 mb-1 block">Your Name</label>
                    <input type="text" id="coffee-waitlist-name" name="name" placeholder="Enter your name" required
                           class="form-input w-full p-3 rounded-lg bg-coffee-100 dark:bg-coffee-700 text-coffee-800 dark:text-coffee-100 placeholder-coffee-400 dark:placeholder-coffee-300 border-2 border-coffee-300 dark:border-coffee-600 focus:outline-none focus:border-coffee-500 dark:focus:border-coffee-400 transition duration-300">
                    <span class="input-icon absolute right-3 top-[60%] transform -translate-y-1/2 text-coffee-400 dark:text-coffee-300">
                        <i class="fas fa-user"></i>
                    </span>
                </div>
                <div class="relative">
                    <label for="coffee-waitlist-email" class="text-sm font-medium text-coffee-700 dark:text-coffee-300 mb-1 block">Your Email Address</label>
                    <input type="email" id="coffee-waitlist-email" name="email" placeholder="Enter your email" required
                           class="form-input w-full p-3 rounded-lg bg-coffee-100 dark:bg-coffee-700 text-coffee-800 dark:text-coffee-100 placeholder-coffee-400 dark:placeholder-coffee-300 border-2 border-coffee-300 dark:border-coffee-600 focus:outline-none focus:border-coffee-500 dark:focus:border-coffee-400 transition duration-300">
                    <span class="input-icon absolute right-3 top-[60%] transform -translate-y-1/2 text-coffee-400 dark:text-coffee-300">
                        <i class="fas fa-envelope"></i>
                    </span>
                </div>
                <button type="submit" class="submit-btn w-full bg-coffee-600 hover:bg-coffee-700 dark:bg-coffee-500 dark:hover:bg-coffee-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-coffee-400 dark:focus:ring-coffee-300 focus:ring-opacity-50">
                    Join the Waitlist
                </button>
            </form>
            <p id="coffee-waitlist-message" class="mt-4 text-center text-coffee-800 dark:text-coffee-200 font-medium"></p>
        </section>

        <!-- Secondary navigation -->
        <nav class="secondary-nav">
            <ul>
                <li><a href="#vision"><i class="fas fa-eye"></i> Our Vision</a></li>
                <li><a href="#mission"><i class="fas fa-bullseye"></i> Our Mission</a></li>
                <li><a href="#coffee"><i class="fas fa-coffee"></i> Our Coffee</a></li>
                <li><a href="#funding"><i class="fas fa-hand-holding-usd"></i> Funding Needs</a></li>
                <li><a href="#impact"><i class="fas fa-heart"></i> Your Impact</a></li>
            </ul>
        </nav>

        <section id="vision" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition section-padding">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 font-serif">Our Vision: Transform Lives with Every Cup</h2>
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="md:w-1/2">
                    <p class="text-lg mb-4">Join us in our mission to create a positive impact through every cup of coffee. Coffee Jesus Coffee is dedicated to supporting communities and funding programs focused on literacy and socially conscious entrepreneurship.</p>
                    <p class="text-lg">We believe that coffee can be more than just a drink – it can be a force for good, bringing people together and creating opportunities for those who need it most.</p>
                </div>
                <div class="md:w-1/2 image-container">
                    <img src="/static/coffee-farm-workers.jpg" alt="Coffee farm workers" class="rounded-lg shadow-md max-w-full h-auto float">
                </div>
            </div>
        </section>

        <section id="mission" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition section-padding">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 font-serif">Our Mission</h2>
            <div class="space-y-4">
                <p class="text-lg">Coffee Jesus Coffee was born of a deep passion to do good in the world. We're not rich - far from it. We are starving artists who just want to make a difference and do something meaningful, while giving back with gratitude for everyone who has supported us so far.</p>
                <p class="text-lg">As a barista for 4 years in small local coffee shops, Christopher Tavolazzi always dreamed of launching his own brand. With his social media handle, @thecoffeejesus, a nickname inspired by his work as a barista, as well as playing Jesus in "Jesus Christ Superstar", he's now turning that dream into reality.</p>
                <p class="text-lg">We're committed to donating 20% of our profits to fund community programs focused on literacy and socially conscious entrepreneurship.</p>
            </div>
        </section>

        <section id="coffee" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition section-padding">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 font-serif">Our Coffee Vision</h2>
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="md:w-1/2">
                    <p class="text-lg mb-4">Our vision is to source coffee from small farms committed to sustainable practices. Each batch will be roasted locally to ensure the freshest and most flavorful coffee.</p>
                    <ul class="list-none mb-6 text-coffee-700 dark:text-coffee-300 space-y-3">
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-3"></i>Handpicked beans from sustainable farms</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-3"></i>Locally roasted to perfection for the freshest taste</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-3"></i>Every purchase supports our mission to create positive change</li>
                    </ul>
                    <p class="text-lg italic">We are currently exploring partnerships with local roasters to bring you the highest quality, sustainably sourced coffee.</p>
                </div>
                <div class="md:w-1/2 image-container">
                    <img src="/static/fresh-coffee-beans.jpg" alt="Fresh coffee beans" class="rounded-lg shadow-md max-w-full h-auto float">
                </div>
            </div>
        </section>

        <section id="funding" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition section-padding">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 text-center font-serif">Our Funding Progress</h2>
            <div class="mb-6">
                <div class="bg-coffee-200 dark:bg-coffee-700 rounded-full h-8 overflow-hidden">
                    <div id="progress-bar" class="progress-bar bg-gradient-to-r from-coffee-400 to-coffee-600 h-8 rounded-full" style="width: 0%"></div>
                </div>
            </div>
            <p class="text-center text-2xl font-semibold text-coffee-800 dark:text-coffee-200 mb-2">
                <span id="current-amount">$0</span> raised of <span id="goal-amount">$10,000</span> goal
            </p>
            <p class="text-center text-lg text-coffee-600 dark:text-coffee-400">Help us reach our goal and bring Coffee Jesus Coffee to life!</p>
            <div class="mt-8 text-center">
                <a href="#" class="cta-button inline-block bg-coffee-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-coffee-700 transition duration-300">
                    Support Our Mission
                </a>
            </div>
        </section>

        <section id="impact" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition section-padding">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 text-center font-serif">Your Impact</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <i class="fas fa-book-reader text-4xl text-coffee-500 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2">Literacy Programs</h3>
                    <p>Funding initiatives to improve literacy rates in underserved communities.</p>
                </div>
                <div class="text-center">
                    <i class="fas fa-lightbulb text-4xl text-coffee-500 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2">Social Entrepreneurship</h3>
                    <p>Empowering individuals to create positive change through business.</p>
                </div>
                <div class="text-center">
                    <i class="fas fa-users text-4xl text-coffee-500 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2">Community Support</h3>
                    <p>Strengthening local communities through targeted programs and resources.</p>
                </div>
            </div>
            <p class="text-lg text-center mt-8">Your support helps us create sustainable change in communities that need it most. Thank you for joining us on this journey.</p>
        </section>

        <section class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 font-serif">Frequently Asked Questions</h2>
            <div class="space-y-4">
                <div class="border-b border-coffee-200 dark:border-coffee-700 pb-4">
                    <button class="flex justify-between items-center w-full text-left text-coffee-800 dark:text-coffee-100" onclick="toggleFAQ(this)">
                        <span class="font-semibold">How does Coffee Jesus Coffee support communities?</span>
                        <i class="fas fa-chevron-down text-coffee-600 dark:text-coffee-400"></i>
                    </button>
                    <p class="mt-2 hidden text-coffee-600 dark:text-coffee-300">We donate 20% of our profits to fund community programs focused on literacy and socially conscious entrepreneurship.</p>
                </div>
                <div class="border-b border-coffee-200 dark:border-coffee-700 pb-4">
                    <button class="flex justify-between items-center w-full text-left text-coffee-800 dark:text-coffee-100" onclick="toggleFAQ(this)">
                        <span class="font-semibold">Where does your coffee come from?</span>
                        <i class="fas fa-chevron-down text-coffee-600 dark:text-coffee-400"></i>
                    </button>
                    <p class="mt-2 hidden text-coffee-600 dark:text-coffee-300">We source our coffee beans from small, sustainable farms around the world. Each batch is carefully selected to ensure the highest quality and ethical production practices.</p>
                </div>
                <div class="border-b border-coffee-200 dark:border-coffee-700 pb-4">
                    <button class="flex justify-between items-center w-full text-left text-coffee-800 dark:text-coffee-100" onclick="toggleFAQ(this)">
                        <span class="font-semibold">When will Coffee Jesus Coffee be available for purchase?</span>
                        <i class="fas fa-chevron-down text-coffee-600 dark:text-coffee-400"></i>
                    </button>
                    <p class="mt-2 hidden text-coffee-600 dark:text-coffee-300">We're currently in the development phase and working hard to bring Coffee Jesus Coffee to market. Sign up for our newsletter to be the first to know when we launch!</p>
                </div>
                <div class="border-b border-coffee-200 dark:border-coffee-700 pb-4">
                    <button class="flex justify-between items-center w-full text-left text-coffee-800 dark:text-coffee-100" onclick="toggleFAQ(this)">
                        <span class="font-semibold">How can I support Coffee Jesus Coffee?</span>
                        <i class="fas fa-chevron-down text-coffee-600 dark:text-coffee-400"></i>
                    </button>
                    <p class="mt-2 hidden text-coffee-600 dark:text-coffee-300">You can support us by spreading the word, following us on social media, and reaching out if you have skills or resources that could help bring our vision to life. Once we launch, purchasing our coffee will directly support our mission.</p>
                </div>
                <div class="border-b border-coffee-200 dark:border-coffee-700 pb-4">
                    <button class="flex justify-between items-center w-full text-left text-coffee-800 dark:text-coffee-100" onclick="toggleFAQ(this)">
                        <span class="font-semibold">What makes Coffee Jesus Coffee unique?</span>
                        <i class="fas fa-chevron-down text-coffee-600 dark:text-coffee-400"></i>
                    </button>
                    <p class="mt-2 hidden text-coffee-600 dark:text-coffee-300">Our commitment to social impact, high-quality sustainable coffee, and our unique brand story set us apart. We're not just selling coffee; we're creating a movement for positive change.</p>
                </div>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
    <script src="darkMode.js"></script>
    <script type="module">
        import supabaseClient from './supabase.js';

        function createFallingBeans() {
            const container = document.getElementById('falling-beans-container');
            const numberOfBeans = 30;

            for (let i = 0; i < numberOfBeans; i++) {
                const bean = document.createElement('div');
                bean.classList.add('coffee-bean');
                bean.style.left = `${Math.random() * 100}vw`;
                bean.style.animationDuration = `${Math.random() * 15 + 20}s`;

                // Set a custom property for delay, using a smaller range
                const delay = Math.random() * 5; // Reduced from 10 to 5
                bean.style.setProperty('--delay', delay);

                container.appendChild(bean);
            }
        }

        function animateProgressBar() {
            const progressBar = document.getElementById('progress-bar');
            const currentAmount = document.getElementById('current-amount');
            const goalAmount = document.getElementById('goal-amount');

            const goal = 10000;
            const current = 2500; // Example: 25% funded
            const percentage = (current / goal) * 100;

            progressBar.style.width = '0%';
            setTimeout(() => {
                progressBar.style.width = percentage + '%';
            }, 500);

            currentAmount.textContent = '$' + current.toLocaleString();
            goalAmount.textContent = '$' + goal.toLocaleString();
        }

        // Waitlist Form Elements
        const waitlistForm = document.getElementById('coffee-waitlist-form');
        const waitlistName = document.getElementById('coffee-waitlist-name');
        const waitlistEmail = document.getElementById('coffee-waitlist-email');
        const waitlistMessage = document.getElementById('coffee-waitlist-message');
        const waitlistCount = document.getElementById('waitlist-count');

        // Function to fetch and display waitlist count
        async function fetchWaitlistCount() {
            try {
                const { count, error } = await supabaseClient
                    .from('coffeejesuscoffee_waitlist')
                    .select('*', { count: 'exact', head: true });

                if (error) throw error;

                waitlistCount.textContent = count !== null ? count : '0';
            } catch (error) {
                console.error('Error fetching waitlist count:', error);
                waitlistCount.textContent = '0';
            }
        }

        // Initial fetch of waitlist count when the page loads
        document.addEventListener('DOMContentLoaded', fetchWaitlistCount);

        // Handle form submission
        waitlistForm.addEventListener('submit', async (event) => {
            event.preventDefault();

            const name = waitlistName.value.trim();
            const email = waitlistEmail.value.trim();

            // Basic Validation
            if (!name || !email) {
                showMessage('Please provide both name and email.', 'error');
                return;
            }

            // Email Format Validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                showMessage('Please enter a valid email address.', 'error');
                return;
            }

            try {
                const { data, error } = await supabaseClient
                    .from('coffeejesuscoffee_waitlist')
                    .insert([{ name, email }])
                    .select();

                if (error) throw error;

                waitlistForm.reset();
                showMessage('Thank you for joining the Coffee Jesus Coffee waitlist!', 'success');

                // Update the waitlist count
                fetchWaitlistCount();
            } catch (error) {
                console.error('Error inserting waitlist data:', error);
                if (error.message.includes('duplicate key value')) {
                    showMessage('This email is already registered in the waitlist.', 'error');
                } else {
                    showMessage('There was an error signing you up. Please try again.', 'error');
                }
            }
        });

        function showMessage(message, type) {
            waitlistMessage.textContent = message;
            waitlistMessage.className = 'mt-4 text-center font-medium';
            if (type === 'error') {
                waitlistMessage.classList.add('text-red-600', 'dark:text-red-400');
            } else {
                waitlistMessage.classList.add('text-green-600', 'dark:text-green-400');
            }

            // Clear message after 5 seconds
            setTimeout(() => {
                waitlistMessage.textContent = '';
                waitlistMessage.className = 'mt-4 text-center text-coffee-800 dark:text-coffee-200 font-medium';
            }, 5000);
        }

        function toggleFAQ(button) {
            const answer = button.nextElementSibling;
            const icon = button.querySelector('i');
            answer.classList.toggle('hidden');
            icon.classList.toggle('fa-chevron-up');
            icon.classList.toggle('fa-chevron-down');
        }

        document.addEventListener('DOMContentLoaded', () => {
            createFallingBeans();
            animateProgressBar();
        });

        // Sticky nav scroll effect
        window.addEventListener('scroll', () => {
            const nav = document.querySelector('.sticky-nav');
            if (window.scrollY > 100) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });

        // Animated coffee cup icon
        const sections = document.querySelectorAll('section');
        sections.forEach(section => {
            const title = section.querySelector('h2');
            if (title) {
                title.classList.add('relative');
                const icon = document.createElement('span');
                icon.classList.add('coffee-icon', 'absolute', '-left-8', 'top-1/2', 'transform', '-translate-y-1/2');
                title.prepend(icon);
            }
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Progress bar
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.transform = `scaleX(${scrolled / 100})`;
        });

        // Animated section reveal
        const revealSections = document.querySelectorAll('.reveal');
        const revealOnScroll = () => {
            revealSections.forEach(section => {
                const sectionTop = section.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                if (sectionTop < windowHeight * 0.75) {
                    section.classList.add('active');
                }
            });
        };
        window.addEventListener('scroll', revealOnScroll);
        revealOnScroll(); // Initial check on page load

        function addAnimatedCoffeeIcons() {
            const titles = document.querySelectorAll('.section-title');
            titles.forEach(title => {
                const icon = document.createElement('span');
                icon.className = 'coffee-icon';
                title.prepend(icon);
            });
        }

        // Animate coffee icons on scroll
        function animateCoffeeIconsOnScroll() {
            const icons = document.querySelectorAll('.coffee-icon');
            icons.forEach(icon => {
                const rect = icon.getBoundingClientRect();
                if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
                    icon.style.animation = 'steam 2s infinite';
                } else {
                    icon.style.animation = 'none';
                }
            });
        }

        // Call these functions when the page loads
        window.addEventListener('load', () => {
            addAnimatedCoffeeIcons();
            animateCoffeeIconsOnScroll();
        });

        // Animate coffee icons on scroll
        window.addEventListener('scroll', animateCoffeeIconsOnScroll);
    </script>
</body>
</html>