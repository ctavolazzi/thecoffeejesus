<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Jesus Coffee - Brewing Divine Opportunities</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        coffee: {
                            100: '#F3E8D6',
                            200: '#E6D0B5',
                            300: '#C8A780',
                            400: '#A67C52',
                            500: '#8D6E63',
                            600: '#6D4C41',
                            700: '#5D4037',
                            800: '#4E342E',
                            900: '#3E2723',
                        },
                    },
                    fontFamily: {
                        serif: ['Playfair Display', 'serif'],
                        sans: ['Poppins', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .float { animation: float 6s ease-in-out infinite; }

        .coffee-bean {
            position: absolute;
            width: 20px;
            height: 30px;
            background-color: #6D4C41;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            opacity: 0.7;
            animation: fallAnimation linear infinite;
            animation-delay: calc(var(--delay) * -1s);
        }
        @keyframes fallAnimation {
            0% { transform: translateY(-5vh) rotate(0deg); }
            100% { transform: translateY(105vh) rotate(360deg); }
        }
        .dark .coffee-bean { background-color: #A67C52; }

        #falling-beans-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .section-transition {
            transition: all 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        .section-transition:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .sticky-nav {
            position: sticky;
            top: 64px;
            z-index: 20;
            backdrop-filter: blur(5px);
            background-color: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }
        .dark .sticky-nav {
            background-color: rgba(30, 41, 59, 0.8);
        }
        .sticky-nav.scrolled {
            padding: 0.5rem 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .section-padding {
            scroll-margin-top: 128px;
        }

        .shimmer-text {
            background-size: 200% auto;
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            animation: shimmer 5s linear infinite;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }
        .light .shimmer-text {
            background-image: linear-gradient(90deg, #FFF8E1 0%, #E6D0B5 25%, #C8A780 50%, #E6D0B5 75%, #FFF8E1 100%);
        }
        .dark .shimmer-text {
            background-image: linear-gradient(90deg, #A67C52 0%, #C8A780 25%, #E6D0B5 50%, #C8A780 75%, #A67C52 100%);
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .page-title-section {
            margin-top: 10vh;
            text-align: center;
            padding: 3rem 2rem;
            background: linear-gradient(135deg, rgba(165, 42, 42, 0.8), rgba(210, 180, 140, 0.8));
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .page-title-section::before {
            content: '☕';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 10rem;
            opacity: 0.1;
            transform: rotate(-15deg);
            z-index: -1;
        }

        .page-title {
            font-family: 'Playfair Display', serif;
            font-size: 5rem;
            font-weight: 700;
            color: #FFF8E1;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            position: relative;
            z-index: 2;
            line-height: 1.2; /* This adds space between the lines */
        }

        .page-subtitle {
            font-family: 'Poppins', sans-serif;
            font-size: 1.75rem;
            color: #FFF8E1;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }

        @media (max-width: 768px) {
            .page-title {
                font-size: 3.5rem;
                line-height: 1.3; /* Slightly more space for smaller screens */
            }
            .page-subtitle {
                font-size: 1.25rem;
            }
        }

        .waitlist-header {
            background: linear-gradient(135deg, #6D4C41, #A67C52);
            padding: 3rem 1rem;
            text-align: center;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .waitlist-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: #FFF8E1;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .waitlist-subtitle {
            font-family: 'Poppins', sans-serif;
            font-size: 1.25rem;
            color: #E6D0B5;
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
        }

        .waitlist-coffee-icon {
            position: absolute;
            font-size: 8rem;
            color: rgba(255, 255, 255, 0.1);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .waitlist-count {
            font-size: 1.5rem;
            font-weight: bold;
            color: #FFF8E1;
            margin-top: 1rem;
            position: relative;
            z-index: 1;
        }

        .form-input {
            transition: all 0.3s ease;
        }

        .form-input:focus {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .coffee-bg {
            background-image:
                linear-gradient(rgba(62, 39, 35, 0.8), rgba(62, 39, 35, 0.8)),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><path d="M30 5c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15zm0 25c-5.5 0-10-4.5-10-10s4.5-10 10-10 10 4.5 10 10-4.5 10-10 10z" fill="%23A67C52" fill-opacity="0.1"/></svg>'),
                url('/static/coffee-bg.jpg');
            background-attachment: fixed;
            background-position: center;
            background-size: auto, auto, cover;
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to right, #6D4C41, #A67C52, #C8A780);
            transform-origin: 0 50%;
            transform: scaleX(0);
            transition: transform 0.2s ease;
            z-index: 1000;
        }

        @keyframes wave {
            0% { transform: translateX(0) translateY(0); }
            50% { transform: translateX(-25px) translateY(10px); }
            100% { transform: translateX(0) translateY(0); }
        }
        .bg-pattern {
            animation: wave 15s ease-in-out infinite;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .animate-fadeInUp {
            animation: fadeInUp 1s ease-out forwards;
        }

        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        .animate-delay-1 { animation-delay: 0.2s; }
        .animate-delay-2 { animation-delay: 0.4s; }
        .animate-delay-3 { animation-delay: 0.6s; }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 2rem; /* Adjusts scroll position to account for any fixed headers */
        }

        @media (min-width: 640px) {
            html {
                scroll-padding-top: 4rem;
            }
        }

        /* Define CSS Variables for Light Mode */
        :root {
            --bg-primary: #FFF8E1; /* Lighter cream color */
            --bg-secondary: #FFFFFF;
            --text-primary: #3E2723;
            --text-secondary: #6D4C41;
            --accent-color: #A67C52;
        }

        /* Dark Mode Overrides */
        .dark {
            --bg-primary: #3E2723;
            --bg-secondary: #4E342E;
            --text-primary: #F3E8D6;
            --text-secondary: #E6D0B5;
            --accent-color: #C8A780;
        }

        /* Apply Variables */
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
        }

        .bg-white {
            background-color: var(--bg-secondary);
        }

        .text-coffee-800 {
            color: var(--text-primary);
        }

        .text-coffee-600 {
            color: var(--text-secondary);
        }

        /* Update other color classes to use variables */
        .bg-coffee-100 {
            background-color: var(--bg-primary);
        }

        .bg-coffee-200 {
            background-color: var(--bg-secondary);
        }

        .border-coffee-300 {
            border-color: var(--accent-color);
        }

        .placeholder-coffee-400::placeholder {
            color: var(--text-secondary);
        }

        .bg-coffee-600 {
            background-color: var(--accent-color);
        }

        .hover\:bg-coffee-700:hover {
            background-color: var(--text-secondary);
        }

        /* Shimmer effect for light mode */
        .shimmer-text {
            background-image: linear-gradient(90deg, #FFF8E1 0%, #E6D0B5 25%, #C8A780 50%, #E6D0B5 75%, #FFF8E1 100%);
        }

        /* Light mode specific styles */
        .light {
            /* --bg-primary: #FFF8E1; /* Lighter cream color */
            /* --bg-secondary: #FFFFFF; */
            --text-primary: #3E2723;
            --text-secondary: #6D4C41;
            --accent-color: #A67C52;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
        }

        .bg-white {
            background-color: var(--bg-secondary);
        }

        .text-coffee-800 {
            color: var(--text-primary);
        }

        .text-coffee-600 {
            color: var(--text-secondary);
        }

        .bg-coffee-100 {
            background-color: #FFF8E1;
        }

        .bg-coffee-200 {
            background-color: #FFE0B2;
        }

        .border-coffee-300 {
            border-color: #FFCC80;
        }

        .placeholder-coffee-400::placeholder {
            color: #FFB74D;
        }

        .bg-coffee-600 {
            background-color: #A67C52;
        }

        .hover\:bg-coffee-700:hover {
            background-color: #8D6E63;
        }

        /* Improve contrast for form inputs */
        .form-input {
            background-color: #FFFFFF;
            color: #3E2723;
            border-color: #A67C52;
        }

        /* Adjust sticky nav for better visibility */
        .sticky-nav {
            background-color: rgba(255, 248, 225, 0.9);
        }

        /* Enhance readability for section titles */
        h2.text-coffee-600 {
            color: #5D4037;
        }

        /* Improve visibility of icons */
        .text-coffee-500 {
            color: #795548;
        }

        /* Adjust progress bar colors */
        .bg-coffee-200 {
            background-color: #D7CCC8;
        }

        .from-coffee-400 {
            --tw-gradient-from: #8D6E63;
        }

        .to-coffee-600 {
            --tw-gradient-to: #5D4037;
        }

        /* Enhance FAQ section readability */
        .border-coffee-200 {
            border-color: #D7CCC8;
        }

        .text-coffee-600 {
            color: #5D4037;
        }

        /* Light mode specific styles */
        .light .waitlist-section h3 {
            color: #3E2723 !important; /* Very dark brown, almost black */
        }

        .light .waitlist-section ul li {
            color: #3E2723 !important; /* Very dark brown, almost black */
        }

        /* Extremely specific and important light mode styles */
        html.light body .waitlist-section h3,
        html.light body .waitlist-section ul li,
        html.light body .waitlist-section * {
            color: #000000 !important; /* Pure black for maximum contrast */
            text-shadow: none !important; /* Remove any text shadows */
        }

        /* New CSS for the steam and pouring coffee animations */
        /* Add animation to SVG lines */
        .steam-line {
            stroke: rgba(255, 255, 255, 0.7); /* Lighter stroke color */
            stroke-width: 2;
            animation: steamRise 4s ease-in-out infinite;
        }

        .coffee-stream {
            stroke: #4E342E; /* Coffee color */
            stroke-width: 5;
            stroke-dasharray: 0 100;
            animation: pourCoffee 3s ease-in-out infinite;
        }

        @keyframes steamRise {
            0% {
                opacity: 0;
                transform: translateY(10px) scale(1);
            }
            50% {
                opacity: 1;
                transform: translateY(-10px) scale(1.2);
            }
            100% {
                opacity: 0;
                transform: translateY(10px) scale(1);
            }
        }

        @keyframes pourCoffee {
            0% {
                stroke-dasharray: 0 100;
                opacity: 0;
            }
            50% {
                stroke-dasharray: 100 0;
                opacity: 1;
            }
            100% {
                stroke-dasharray: 0 100;
                opacity: 0;
            }
        }

        /* Ensure the header has no background */
        .header-no-bg {
            background-color: transparent;
            position: relative;
        }

        /* Ensure SVG scales correctly */
        header svg {
            max-width: 100%;
            height: auto;
        }

        /* Enhance the text appearance */
        header h1, header p {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* Improved "Join the Waitlist" Button */
        .join-waitlist-btn {
            position: relative;
            display: inline-block;
            background-color: #6D4C41; /* Initial background color */
            color: #FFFFFF;
            font-weight: bold;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            text-decoration: none;
            transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
            margin-top: 2rem; /* Adjust this value as needed */
        }

        .join-waitlist-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.5s ease;
        }

        .join-waitlist-btn:hover {
            background-color: #8D6E63; /* Hover background color */
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .join-waitlist-btn:hover::after {
            transform: translate(-50%, -50%) scale(1);
            transition: transform 0.3s ease;
        }

        .join-waitlist-btn:active {
            transform: translateY(0);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* FAQ Answer Transition */
        .faq-answer {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
        }

        .faq-answer.open {
            max-height: 500px; /* Adjust as needed for content */
            opacity: 1;
        }

        /* Chevron Icon Rotation */
        .faq-question i {
            transition: transform 0.5s ease-in-out;
        }

        .faq-question.open i {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="pt-16 font-sans transition-colors duration-200 parallax-bg coffee-bg">
    <div class="progress-bar" id="progressBar"></div>
    <div id="falling-beans-container"></div>
    <div id="navbar-placeholder"></div>

    <header class="header-no-bg text-coffee-100 py-8 px-4 sm:px-6 lg:px-8 relative overflow-hidden">
        <div class="max-w-4xl mx-auto text-center relative z-10">
            <h1 class="text-6xl sm:text-7xl font-bold mb-2 font-serif text-coffee-100">
                Coffee Jesus Coffee
            </h1>
            <p class="text-xl sm:text-2xl mb-4 text-coffee-300 font-light">
                Ethically sourced, divinely inspired coffee that changes lives
            </p>
        </div>
        <div class="relative my-4">
            <svg class="w-40 h-48 mx-auto" viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg">
                <!-- Coffee Cup -->
                <g id="cup">
                    <!-- Cup body (now with a flat top) -->
                    <path d="M20 40 v60 h60 v-60 h-60" fill="#6D4C41"/>
                    <!-- Cup rim -->
                    <path d="M15 40 h70" stroke="#4E342E" stroke-width="5" fill="none"/>
                    <!-- Cup handle -->
                    <path d="M80 50 a20 20 0 0 1 0 40" fill="none" stroke="#4E342E" stroke-width="5"/>
                </g>
                <!-- Steam Lines -->
                <g id="steam">
                    <path class="steam-line" d="M30 30 C30 15, 50 15, 50 30" fill="none"/>
                    <path class="steam-line" d="M40 30 C40 10, 60 10, 60 30" fill="none"/>
                    <path class="steam-line" d="M50 30 C50 20, 70 20, 70 30" fill="none"/>
                </g>
                <!-- Pouring Coffee -->
                <g id="pour">
                    <path class="coffee-stream" d="M50 0 v40" stroke-linecap="round"/>
                </g>
            </svg>
        </div>
        <div class="text-center mt-2">
            <a href="#coffee-waitlist-form" class="join-waitlist-btn">
                Join the Waitlist
            </a>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-4 py-8 space-y-16">
        <section id="waitlist" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition">
            <div class="waitlist-header">
                <span class="waitlist-coffee-icon">☕</span>
                <h2 class="waitlist-title">Join Our Divine Brew Waitlist</h2>
                <p class="waitlist-subtitle">Be part of our mission to brew change and savor excellence</p>
                <p class="waitlist-count">
                    <span id="waitlist-count">0</span> coffee enthusiasts are already on board!
                </p>
            </div>
            <div class="max-w-2xl mx-auto mb-8 text-center">
                <h3 class="text-2xl font-semibold mb-4 text-coffee-600 dark:text-coffee-300">Why Join Our Waitlist?</h3>
                <div class="bg-coffee-100 dark:bg-coffee-700 p-6 rounded-lg shadow-inner">
                    <ul class="space-y-4 text-left">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
                            <span>Be the first to taste our ethically sourced, artisanally roasted coffee</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-star text-yellow-500 mr-3 mt-1"></i>
                            <span>Exclusive early access to limited edition blends</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-tag text-blue-500 mr-3 mt-1"></i>
                            <span>Special launch discounts for waitlist members</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-envelope-open-text text-purple-500 mr-3 mt-1"></i>
                            <span>Insider updates on our journey and impact</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-comments text-orange-500 mr-3 mt-1"></i>
                            <span>Opportunity to provide feedback and shape our offerings</span>
                        </li>
                    </ul>
                </div>
            </div>
            <form id="coffee-waitlist-form" class="scroll-mt-24 space-y-6 max-w-md mx-auto bg-coffee-50 dark:bg-coffee-800 p-6 rounded-lg shadow-lg">
                <h4 class="text-xl font-semibold text-center text-coffee-700 dark:text-coffee-300 mb-4">Sign Up for Exclusive Access</h4>
                <div class="relative">
                    <label for="coffee-waitlist-name" class="text-sm font-medium text-coffee-700 dark:text-coffee-300 mb-1 block">Your Name</label>
                    <input type="text" id="coffee-waitlist-name" name="name" placeholder="Enter your name" required
                           class="form-input w-full p-3 rounded-lg bg-white dark:bg-coffee-700 text-coffee-800 dark:text-coffee-100 placeholder-coffee-400 dark:placeholder-coffee-300 border-2 border-coffee-300 dark:border-coffee-600 focus:outline-none focus:border-coffee-500 dark:focus:border-coffee-400 transition duration-300">
                    <span class="input-icon absolute right-3 top-[60%] transform -translate-y-1/2 text-coffee-400 dark:text-coffee-300">
                        <i class="fas fa-user"></i>
                    </span>
                </div>
                <div class="relative">
                    <label for="coffee-waitlist-email" class="text-sm font-medium text-coffee-700 dark:text-coffee-300 mb-1 block">Your Email Address</label>
                    <input type="email" id="coffee-waitlist-email" name="email" placeholder="Enter your email" required
                           class="form-input w-full p-3 rounded-lg bg-white dark:bg-coffee-700 text-coffee-800 dark:text-coffee-100 placeholder-coffee-400 dark:placeholder-coffee-300 border-2 border-coffee-300 dark:border-coffee-600 focus:outline-none focus:border-coffee-500 dark:focus:border-coffee-400 transition duration-300">
                    <span class="input-icon absolute right-3 top-[60%] transform -translate-y-1/2 text-coffee-400 dark:text-coffee-300">
                        <i class="fas fa-envelope"></i>
                    </span>
                </div>
                <button type="submit" class="w-full bg-coffee-600 hover:bg-coffee-700 dark:bg-coffee-500 dark:hover:bg-coffee-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300 focus:outline-none focus:ring-2 focus:ring-coffee-400 dark:focus:ring-coffee-300 focus:ring-opacity-50">
                    Join the Divine Brew Waitlist
                </button>
                <p class="text-xs text-center text-coffee-600 dark:text-coffee-400">By joining, you agree to receive emails about our launch, offers, and mission. Unsubscribe anytime.</p>
            </form>
            <p id="coffee-waitlist-message" class="mt-4 text-center text-coffee-800 dark:text-coffee-200 font-medium"></p>
        </section>

        <nav class="sticky-nav bg-coffee-200 dark:bg-coffee-800 p-3 rounded-lg shadow-md mb-6 transition-colors duration-200">
            <ul class="flex flex-wrap justify-center gap-2">
                <li>
                    <a href="#vision" class="flex items-center px-3 py-1.5 rounded-full text-coffee-800 dark:text-coffee-200 hover:bg-coffee-300 dark:hover:bg-coffee-700 transition-colors duration-200">
                        <i class="fas fa-eye mr-2"></i>
                        <span class="hidden sm:inline">Our Vision</span>
                    </a>
                </li>
                <li>
                    <a href="#mission" class="flex items-center px-3 py-1.5 rounded-full text-coffee-800 dark:text-coffee-200 hover:bg-coffee-300 dark:hover:bg-coffee-700 transition-colors duration-200">
                        <i class="fas fa-bullseye mr-2"></i>
                        <span class="hidden sm:inline">Our Mission</span>
                    </a>
                </li>
                <li>
                    <a href="#coffee" class="flex items-center px-3 py-1.5 rounded-full text-coffee-800 dark:text-coffee-200 hover:bg-coffee-300 dark:hover:bg-coffee-700 transition-colors duration-200">
                        <i class="fas fa-coffee mr-2"></i>
                        <span class="hidden sm:inline">Our Coffee</span>
                    </a>
                </li>
                <li>
                    <a href="#funding" class="flex items-center px-3 py-1.5 rounded-full text-coffee-800 dark:text-coffee-200 hover:bg-coffee-300 dark:hover:bg-coffee-700 transition-colors duration-200">
                        <i class="fas fa-hand-holding-usd mr-2"></i>
                        <span class="hidden sm:inline">Funding Needs</span>
                    </a>
                </li>
                <li>
                    <a href="#impact" class="flex items-center px-3 py-1.5 rounded-full text-coffee-800 dark:text-coffee-200 hover:bg-coffee-300 dark:hover:bg-coffee-700 transition-colors duration-200">
                        <i class="fas fa-heart mr-2"></i>
                        <span class="hidden sm:inline">Your Impact</span>
                    </a>
                </li>
            </ul>
        </nav>

        <section id="vision" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition section-padding">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 font-serif">Our Vision: Transform Lives with Every Cup</h2>
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="md:w-1/2">
                    <p class="text-lg mb-4">Join us in our mission to create a positive impact through every cup of coffee. Coffee Jesus Coffee is dedicated to supporting communities and funding programs focused on literacy and socially conscious entrepreneurship.</p>
                    <p class="text-lg">We believe that coffee can be more than just a drink – it can be a force for good, bringing people together and creating opportunities for those who need it most.</p>
                </div>
                <div class="md:w-1/2 image-container">
                    <img src="/static/coffee-farm-workers.jpg" alt="Coffee farm workers" class="rounded-lg shadow-md max-w-full h-auto float">
                </div>
            </div>
        </section>

        <section id="mission" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition section-padding">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 font-serif">Our Mission</h2>
            <div class="space-y-4">
                <p class="text-lg">Coffee Jesus Coffee was born of a deep passion to do good in the world. We're not rich - far from it. We are starving artists who just want to make a difference and do something meaningful, while giving back with gratitude for everyone who has supported us so far.</p>
                <p class="text-lg">As a barista for 4 years in small local coffee shops, Christopher Tavolazzi always dreamed of launching his own brand. With his social media handle, @thecoffeejesus, a nickname inspired by his work as a barista, as well as playing Jesus in "Jesus Christ Superstar", he's now turning that dream into reality.</p>
                <p class="text-lg">We're committed to donating 20% of our profits to fund community programs focused on literacy and socially conscious entrepreneurship.</p>
            </div>
        </section>

        <section id="coffee" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition section-padding">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 font-serif">Our Coffee Vision</h2>
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="md:w-1/2">
                    <p class="text-lg mb-4">Our vision is to source coffee from small farms committed to sustainable practices. Each batch will be roasted locally to ensure the freshest and most flavorful coffee.</p>
                    <ul class="list-none mb-6 text-coffee-700 dark:text-coffee-300 space-y-3">
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-3"></i>Handpicked beans from sustainable farms</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-3"></i>Locally roasted to perfection for the freshest taste</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-3"></i>Every purchase supports our mission to create positive change</li>
                    </ul>
                    <p class="text-lg italic">We are currently exploring partnerships with local roasters to bring you the highest quality, sustainably sourced coffee.</p>
                </div>
                <div class="md:w-1/2 image-container">
                    <img src="/static/fresh-coffee-beans.jpg" alt="Fresh coffee beans" class="rounded-lg shadow-md max-w-full h-auto float">
                </div>
            </div>
        </section>

        <section id="funding" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition section-padding">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 text-center font-serif">Our Funding Progress</h2>
            <div class="mb-6">
                <div class="bg-coffee-200 dark:bg-coffee-700 rounded-full h-8 overflow-hidden">
                    <div id="progress-bar" class="progress-bar bg-gradient-to-r from-coffee-400 to-coffee-600 h-8 rounded-full" style="width: 0%"></div>
                </div>
            </div>
            <p class="text-center text-2xl font-semibold text-coffee-800 dark:text-coffee-200 mb-2">
                <span id="current-amount">$0</span> raised of <span id="goal-amount">$10,000</span> goal
            </p>
            <p class="text-center text-lg text-coffee-600 dark:text-coffee-400">Help us reach our goal and bring Coffee Jesus Coffee to life!</p>
            <div class="mt-8 text-center">
                <a href="#" class="cta-button inline-block bg-coffee-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-coffee-700 transition duration-300">
                    Support Our Mission
                </a>
            </div>
        </section>

        <section id="impact" class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition section-padding">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 text-center font-serif">Your Impact</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <i class="fas fa-book-reader text-4xl text-coffee-500 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2">Literacy Programs</h3>
                    <p>Funding initiatives to improve literacy rates in underserved communities.</p>
                </div>
                <div class="text-center">
                    <i class="fas fa-lightbulb text-4xl text-coffee-500 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2">Social Entrepreneurship</h3>
                    <p>Empowering individuals to create positive change through business.</p>
                </div>
                <div class="text-center">
                    <i class="fas fa-users text-4xl text-coffee-500 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2">Community Support</h3>
                    <p>Strengthening local communities through targeted programs and resources.</p>
                </div>
            </div>
            <p class="text-lg text-center mt-8">Your support helps us create sustainable change in communities that need it most. Thank you for joining us on this journey.</p>
        </section>

        <section class="bg-white dark:bg-coffee-800 p-8 rounded-lg shadow-md section-transition">
            <h2 class="text-3xl font-bold mb-6 text-coffee-600 dark:text-coffee-300 font-serif">Frequently Asked Questions</h2>
            <div class="space-y-4">
                <!-- FAQ Item 1 -->
                <div class="border-b border-coffee-200 dark:border-coffee-700 pb-4">
                    <button class="faq-question flex justify-between items-center w-full text-left text-coffee-800 dark:text-coffee-100 focus:outline-none">
                        <span class="font-semibold">How does Coffee Jesus Coffee support communities?</span>
                        <i class="fas fa-chevron-down text-coffee-600 dark:text-coffee-400 transition-transform duration-200"></i>
                    </button>
                    <div class="faq-answer mt-2 text-coffee-600 dark:text-coffee-300 transition-all duration-500 max-h-0 overflow-hidden opacity-0">
                        <p>We donate 20% of our profits to fund community programs focused on literacy and socially conscious entrepreneurship.</p>
                    </div>
                </div>
                <!-- FAQ Item 2 -->
                <div class="border-b border-coffee-200 dark:border-coffee-700 pb-4">
                    <button class="faq-question flex justify-between items-center w-full text-left text-coffee-800 dark:text-coffee-100 focus:outline-none">
                        <span class="font-semibold">Where does your coffee come from?</span>
                        <i class="fas fa-chevron-down text-coffee-600 dark:text-coffee-400 transition-transform duration-200"></i>
                    </button>
                    <div class="faq-answer mt-2 text-coffee-600 dark:text-coffee-300 transition-all duration-500 max-h-0 overflow-hidden opacity-0">
                        <p>We source our coffee beans from small, sustainable farms around the world. Each batch is carefully selected to ensure the highest quality and ethical production practices.</p>
                    </div>
                </div>
                <!-- FAQ Item 3 -->
                <div class="border-b border-coffee-200 dark:border-coffee-700 pb-4">
                    <button class="faq-question flex justify-between items-center w-full text-left text-coffee-800 dark:text-coffee-100 focus:outline-none">
                        <span class="font-semibold">When will Coffee Jesus Coffee be available for purchase?</span>
                        <i class="fas fa-chevron-down text-coffee-600 dark:text-coffee-400 transition-transform duration-200"></i>
                    </button>
                    <div class="faq-answer mt-2 text-coffee-600 dark:text-coffee-300 transition-all duration-500 max-h-0 overflow-hidden opacity-0">
                        <p>We're currently in the development phase and working hard to bring Coffee Jesus Coffee to market. Sign up for our newsletter to be the first to know when we launch!</p>
                    </div>
                </div>
                <!-- FAQ Item 4 -->
                <div class="border-b border-coffee-200 dark:border-coffee-700 pb-4">
                    <button class="faq-question flex justify-between items-center w-full text-left text-coffee-800 dark:text-coffee-100 focus:outline-none">
                        <span class="font-semibold">How can I support Coffee Jesus Coffee?</span>
                        <i class="fas fa-chevron-down text-coffee-600 dark:text-coffee-400 transition-transform duration-200"></i>
                    </button>
                    <div class="faq-answer mt-2 text-coffee-600 dark:text-coffee-300 transition-all duration-500 max-h-0 overflow-hidden opacity-0">
                        <p>You can support us by spreading the word, following us on social media, and reaching out if you have skills or resources that could help bring our vision to life. Once we launch, purchasing our coffee will directly support our mission.</p>
                    </div>
                </div>
                <!-- FAQ Item 5 -->
                <div class="border-b border-coffee-200 dark:border-coffee-700 pb-4">
                    <button class="faq-question flex justify-between items-center w-full text-left text-coffee-800 dark:text-coffee-100 focus:outline-none">
                        <span class="font-semibold">What makes Coffee Jesus Coffee unique?</span>
                        <i class="fas fa-chevron-down text-coffee-600 dark:text-coffee-400 transition-transform duration-200"></i>
                    </button>
                    <div class="faq-answer mt-2 text-coffee-600 dark:text-coffee-300 transition-all duration-500 max-h-0 overflow-hidden opacity-0">
                        <p>Our commitment to social impact, high-quality sustainable coffee, and our unique brand story set us apart. We're not just selling coffee; we're creating a movement for positive change.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
    <script src="darkMode.js"></script>
    <script type="module">
        import supabaseClient from './supabase.js';

        function createFallingBeans() {
            const container = document.getElementById('falling-beans-container');
            const numberOfBeans = 30;

            for (let i = 0; i < numberOfBeans; i++) {
                const bean = document.createElement('div');
                bean.classList.add('coffee-bean');
                bean.style.left = `${Math.random() * 100}vw`;
                bean.style.animationDuration = `${Math.random() * 15 + 20}s`;
                const delay = Math.random() * 5;
                bean.style.setProperty('--delay', delay);
                container.appendChild(bean);
            }
        }

        function animateProgressBar() {
            const progressBar = document.getElementById('progress-bar');
            const currentAmount = document.getElementById('current-amount');
            const goalAmount = document.getElementById('goal-amount');

            const goal = 10000;
            const current = 2500; // Example: 25% funded
            const percentage = (current / goal) * 100;

            progressBar.style.width = '0%';
            setTimeout(() => {
                progressBar.style.width = percentage + '%';
            }, 500);

            currentAmount.textContent = '$' + current.toLocaleString();
            goalAmount.textContent = '$' + goal.toLocaleString();
        }

        // Waitlist Form Elements
        const waitlistForm = document.getElementById('coffee-waitlist-form');
        const waitlistName = document.getElementById('coffee-waitlist-name');
        const waitlistEmail = document.getElementById('coffee-waitlist-email');
        const waitlistMessage = document.getElementById('coffee-waitlist-message');
        const waitlistCount = document.getElementById('waitlist-count');

        // Function to fetch and display waitlist count
        async function fetchWaitlistCount() {
            try {
                const { count, error } = await supabaseClient
                    .from('coffeejesuscoffee_waitlist')
                    .select('*', { count: 'exact', head: true });

                if (error) throw error;

                waitlistCount.textContent = count !== null ? count : '0';
            } catch (error) {
                console.error('Error fetching waitlist count:', error);
                waitlistCount.textContent = '0';
            }
        }

        // Initial fetch of waitlist count when the page loads
        document.addEventListener('DOMContentLoaded', fetchWaitlistCount);

        // Handle form submission
        waitlistForm.addEventListener('submit', async (event) => {
            event.preventDefault();

            const name = waitlistName.value.trim();
            const email = waitlistEmail.value.trim();

            // Basic Validation
            if (!name || !email) {
                showMessage('Please provide both name and email.', 'error');
                return;
            }

            // Email Format Validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                showMessage('Please enter a valid email address.', 'error');
                return;
            }

            try {
                const { data, error } = await supabaseClient
                    .from('coffeejesuscoffee_waitlist')
                    .insert([{ name, email }])
                    .select();

                if (error) throw error;

                waitlistForm.reset();
                showMessage('Thank you for joining the Coffee Jesus Coffee waitlist!', 'success');

                // Update the waitlist count
                fetchWaitlistCount();
            } catch (error) {
                console.error('Error inserting waitlist data:', error);
                if (error.message.includes('duplicate key value')) {
                    showMessage('This email is already registered in the waitlist.', 'error');
                } else {
                    showMessage('There was an error signing you up. Please try again.', 'error');
                }
            }
        });

        function showMessage(message, type) {
            waitlistMessage.textContent = message;
            waitlistMessage.className = 'mt-4 text-center font-medium';
            if (type === 'error') {
                waitlistMessage.classList.add('text-red-600', 'dark:text-red-400');
            } else {
                waitlistMessage.classList.add('text-green-600', 'dark:text-green-400');
            }

            // Clear message after 5 seconds
            setTimeout(() => {
                waitlistMessage.textContent = '';
                waitlistMessage.className = 'mt-4 text-center text-coffee-800 dark:text-coffee-200 font-medium';
            }, 5000);
        }

        /**
         * Toggle the visibility of the FAQ answer and rotate the chevron icon.
         * @param {Event} event - The click event.
         */
        function toggleFAQ(event) {
            const button = event.currentTarget;
            const answer = button.nextElementSibling;

            // Check if the clicked FAQ is already open
            const isOpen = answer.classList.contains('open');

            // Close all open FAQs
            document.querySelectorAll('.faq-answer').forEach(a => a.classList.remove('open'));
            document.querySelectorAll('.faq-question').forEach(b => b.classList.remove('open'));

            // If the clicked FAQ was not open, open it
            if (!isOpen) {
                answer.classList.add('open');
                button.classList.add('open');
            }
        }

        // Assign event listeners to all FAQ question buttons
        document.addEventListener('DOMContentLoaded', () => {
            const faqButtons = document.querySelectorAll('.faq-question');
            faqButtons.forEach(button => {
                button.addEventListener('click', toggleFAQ);
            });

            createFallingBeans();
            animateProgressBar();
        });

        // Sticky nav scroll effect
        window.addEventListener('scroll', () => {
            const nav = document.querySelector('.sticky-nav');
            if (window.scrollY > 100) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Progress bar
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.transform = `scaleX(${scrolled / 100})`;
        });

        // Animated section reveal
        const revealSections = document.querySelectorAll('.reveal');
        const revealOnScroll = () => {
            revealSections.forEach(section => {
                const sectionTop = section.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                if (sectionTop < windowHeight * 0.75) {
                    section.classList.add('active');
                }
            });
        };
        window.addEventListener('scroll', revealOnScroll);
        revealOnScroll(); // Initial check on page load

        function highlightActiveSection() {
            const sections = document.querySelectorAll('section[id]');
            const navItems = document.querySelectorAll('.sticky-nav a');

            let currentSectionId = '';

            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= sectionTop && window.pageYOffset < sectionTop + sectionHeight) {
                    currentSectionId = section.getAttribute('id');
                }
            });

            navItems.forEach(item => {
                item.classList.remove('font-bold', 'bg-coffee-300', 'dark:bg-coffee-700');
                if (item.getAttribute('href').slice(1) === currentSectionId) {
                    item.classList.add('font-bold', 'bg-coffee-300', 'dark:bg-coffee-700');
                }
            });
        }

        window.addEventListener('scroll', highlightActiveSection);
        window.addEventListener('load', highlightActiveSection);
    </script>
</body>
</html>